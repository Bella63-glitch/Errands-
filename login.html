<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Backendless Login</title>
  <script src="https://cdn.jsdelivr.net/npm/backendless@6.8.0/dist/backendless.min.js"></script>
</head>
<body>
  <h2>Login</h2>
  <form id="loginForm">
    <input type="email" id="email" placeholder="Email" required><br><br>
    <input type="password" id="password" placeholder="Password" required><br><br>
    <button type="submit">Login</button>
  </form>

  <div id="message"></div>

  <script>
    // âœ… Use YOUR correct keys here
    const APP_ID = "9223CBD1-9AFC-4C74-B56B-12F11D319DF9";   // App ID
    const API_KEY = "0391DCD5-5AAB-436D-ADE3-550712FBA557"; // JavaScript API Key

    Backendless.initApp(APP_ID, API_KEY);

    const loginForm = document.getElementById("loginForm");
    const messageBox = document.getElementById("message");

    // If already logged in, donâ€™t force re-login
    const existingUser = localStorage.getItem("userToken");
    if (existingUser) {
      messageBox.innerText = "Already logged in âœ…";
    }

    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      try {
        const user = await Backendless.UserService.login(email, password, true);
        
        // âœ… Save token in localStorage
        localStorage.setItem("userToken", user['user-token']);
        localStorage.setItem("userId", user.objectId);

        messageBox.innerText = "Login successful! ðŸŽ‰";
        console.log("User logged in:", user);

        // Redirect to dashboard or home
        // window.location.href = "dashboard.html";
      } catch (err) {
        messageBox.innerText = "Login failed: " + err.message;
        console.error("Login error:", err);
      }
    });
  </script>
</body>
</html>



























